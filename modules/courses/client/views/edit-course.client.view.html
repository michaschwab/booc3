<section data-ng-controller="CoursesController" data-ng-init="findOne()" class="container">
    <div class="page-header">
        <h1>{{course.created ? 'Edit Course' : 'Create Course'}}</h1>
    </div>
    <div class="col-md-12">
        <form class="form-horizontal" data-ng-submit="course.created ? update() : create()" novalidate>
            <fieldset>

                <div class="form-group">

                    <label class="control-label" for="title">Title</label>
                    <div class="controls">
                        <input type="text" data-ng-model="course.title" id="title" class="form-control" placeholder="Title" required>
                    </div>

                    <label class="control-label" for="short">Title Shorthand</label>
                    <div class="controls">
                        <input type="text" data-ng-model="course.short" id="short" class="form-control" placeholder="Short Title" required>
                    </div>

                    <label class="control-label" for="description">Description</label>
                    <div class="controls">
                        <!--<input type="text" data-ng-model="course.description" id="description" class="form-control" placeholder="Title" required>-->
                        <textarea class="form-control" data-ng-model="course.description" id="description" rows="5"></textarea>
                    </div>

                    <div class="checkbox">
                        <label>

                            <!--<input type="text" data-ng-model="course.description" id="description" class="form-control" placeholder="Title" required>-->
                            <input type="checkbox" data-ng-model="course.published" id="published" />

                            Published

                        </label>

                    </div>
                </div>

                <div class="form-group">

                    <h2>Course Runs</h2>

                    <button class="btn btn-default" ng-click="addCourseRun($event)">
                        Add New
                    </button>

                    <table class="table table-striped">
                        <thead>
                            <th>Title</th>
                            <th>Start</th>
                            <th>Actions</th>
                        </thead>
                        <tr ng-repeat="run in courseruns | filter:{deleted: false}">
                            <td><input class="form-control" type="text" ng-required="title" ng-model="run.title" name="title" style="width: 400px" /></td>
                            <td><input type="text" class="form-control" uib-datepicker-popup="yyyy/MM/dd" ng-model="run.start_text" placeholder="YYYY-MM-DD" /></td>
                            <td><button class="btn btn-default" ng-click="deleteCourseRun(run, $event)"><span class="glyphicon glyphicon-trash"></span> Delete</button></td>
                        </tr>
                    </table>


                </div>

                <!--<div class="form-group">

                    <h2>Course Admins</h2>


                </div>-->

                <div class="form-group pull-right">
                    <input type="submit" value="{{course.created ? 'Update' : 'Create' }}" class="btn btn-primary">
                </div>
				<div data-ng-show="error" class="text-danger">
					<strong data-ng-bind="error"></strong>
				</div>

            </fieldset>
        </form>
    </div>
</section>
